<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NBA Garbage Time Scoring Tracker</title>
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://unpkg.com/recharts@2.12.7/dist/Recharts.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        // Error handling
        window.addEventListener('error', function(e) {
            console.error('Error loading:', e.filename, e.message);
        });
    </script>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect } = React;
        const { LineChart, Line, BarChart, Bar, XAxis, YAxis, CartesianGrid, Tooltip, Legend, ResponsiveContainer, ScatterChart, Scatter, Cell } = Recharts;

        // Lucide React icons as inline SVG components
        const AlertTriangle = ({ size = 24, className = "" }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}>
                <path d="m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z"/>
                <path d="M12 9v4"/>
                <path d="M12 17h.01"/>
            </svg>
        );

        const Clock = ({ size = 24, className = "" }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}>
                <circle cx="12" cy="12" r="10"/>
                <polyline points="12 6 12 12 16 14"/>
            </svg>
        );

        const TrendingDown = ({ size = 24, className = "" }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}>
                <polyline points="23 18 13.5 8.5 8.5 13.5 1 6"/>
                <polyline points="17 18 23 18 23 12"/>
            </svg>
        );

        const Plus = ({ size = 24, className = "" }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}>
                <path d="M5 12h14"/>
                <path d="M12 5v14"/>
            </svg>
        );

        const Filter = ({ size = 24, className = "" }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}>
                <polygon points="22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"/>
            </svg>
        );

        function GarbageTimeScoringTracker() {
          const [games, setGames] = useState([]);
          const [filteredGames, setFilteredGames] = useState([]);
          const [showAddGame, setShowAddGame] = useState(false);
          const [filters, setFilters] = useState({
            searchTerm: '',
            minTimeLeft: 0,
            maxTimeLeft: 30,
            minDeficit: 8,
            maxDeficit: 20,
            spreadImpact: 'all'
          });
          
          const [newGame, setNewGame] = useState({
            date: '',
            homeTeam: '',
            awayTeam: '',
            finalScore: '',
            finalOpponentScore: '',
            spread: '',
            timeLeft: '',
            deficitBefore: '',
            pointsScored: '',
            deficitAfter: '',
            scoringTeam: 'home',
            notes: ''
          });

          const analyzeSpreadImpact = (game) => {
            const finalMargin = game.scoringTeam === 'home' 
              ? game.finalScore - game.finalOpponentScore
              : game.finalOpponentScore - game.finalScore;
            
            const marginBefore = -game.deficitBefore;
            const marginAfter = -game.deficitAfter;
            
            const wasUnderdog = game.spread > 0;
            const wouldNotHaveCovered = marginBefore < -game.spread;
            const didCover = marginAfter > -game.spread;
            
            const spreadDifference = Math.abs(marginAfter + game.spread);
            const wouldHaveMissedBy = Math.abs(marginBefore + game.spread);
            
            return {
              finalMargin,
              marginBefore,
              marginAfter,
              wasUnderdog,
              coveredSpread: didCover,
              wouldHaveCovered: !wouldNotHaveCovered,
              impactedSpread: wouldNotHaveCovered && didCover,
              spreadDifference,
              wouldHaveMissedBy,
              suspicionScore: calculateSuspicionScore(game, wouldNotHaveCovered && didCover)
            };
          };

          const calculateSuspicionScore = (game, impactedSpread) => {
            let score = 0;
            
            if (game.timeLeft <= 15 && game.deficitBefore >= 10) score += 40;
            else if (game.timeLeft <= 20 && game.deficitBefore >= 10) score += 30;
            else if (game.timeLeft <= 30 && game.deficitBefore >= 8) score += 20;
            
            if (impactedSpread) score += 50;
            
            if (game.pointsScored >= 5 && game.timeLeft <= 20) score += 25;
            if (game.pointsScored >= 7 && game.timeLeft <= 30) score += 35;
            
            const analysis = analyzeSpreadImpact(game);
            if (analysis.spreadDifference <= 1 && impactedSpread) score += 30;
            if (analysis.spreadDifference <= 2 && impactedSpread) score += 20;
            
            if (game.deficitBefore >= 12 && game.timeLeft <= 20) score += 15;
            
            return Math.min(score, 100);
          };

          useEffect(() => {
            const savedGames = localStorage.getItem('garbageTimeGames');
            if (savedGames) {
              const parsed = JSON.parse(savedGames);
              setGames(parsed);
              setFilteredGames(parsed);
            } else {
              const sampleGames = [
                {
                  id: 1,
                  date: '2025-01-15',
                  homeTeam: 'Lakers',
                  awayTeam: 'Warriors',
                  finalScore: 108,
                  finalOpponentScore: 115,
                  spread: 6.5,
                  timeLeft: 12,
                  deficitBefore: 10,
                  pointsScored: 3,
                  deficitAfter: 7,
                  scoringTeam: 'home',
                  notes: 'Quick 3-pointer when down 10 with 12 seconds left. Lakers were +6.5 underdogs.'
                },
                {
                  id: 2,
                  date: '2025-01-18',
                  homeTeam: 'Heat',
                  awayTeam: 'Celtics',
                  finalScore: 99,
                  finalOpponentScore: 110,
                  spread: 8.0,
                  timeLeft: 8,
                  deficitBefore: 13,
                  pointsScored: 2,
                  deficitAfter: 11,
                  scoringTeam: 'home',
                  notes: 'Layup at buzzer despite being down 13. Game already decided. Heat +8 covered by 3.'
                },
                {
                  id: 3,
                  date: '2025-01-20',
                  homeTeam: 'Nets',
                  awayTeam: 'Bucks',
                  finalScore: 103,
                  finalOpponentScore: 118,
                  spread: 12.5,
                  timeLeft: 18,
                  deficitBefore: 17,
                  pointsScored: 5,
                  deficitAfter: 15,
                  scoringTeam: 'home',
                  notes: 'Scored 5 points in final 18 seconds down 17. Nets were +12.5, ended up losing by 15. Covered by 2.5.'
                },
                {
                  id: 4,
                  date: '2025-01-22',
                  homeTeam: 'Suns',
                  awayTeam: 'Nuggets',
                  finalScore: 106,
                  finalOpponentScore: 119,
                  spread: 11.0,
                  timeLeft: 6,
                  deficitBefore: 15,
                  pointsScored: 2,
                  deficitAfter: 13,
                  scoringTeam: 'home',
                  notes: 'Free throws with 6 seconds down 15. Changed from not covering to covering +11 spread.'
                }
              ];

              const gamesWithAnalysis = sampleGames.map(game => ({
                ...game,
                ...analyzeSpreadImpact(game)
              }));

              setGames(gamesWithAnalysis);
              setFilteredGames(gamesWithAnalysis);
            }
          }, []);

          useEffect(() => {
            if (games.length > 0) {
              localStorage.setItem('garbageTimeGames', JSON.stringify(games));
            }
          }, [games]);

          useEffect(() => {
            let filtered = games.filter(game => {
              const matchesSearch = filters.searchTerm === '' || 
                game.homeTeam.toLowerCase().includes(filters.searchTerm.toLowerCase()) ||
                game.awayTeam.toLowerCase().includes(filters.searchTerm.toLowerCase());
              
              const matchesTime = game.timeLeft >= filters.minTimeLeft && 
                                 game.timeLeft <= filters.maxTimeLeft;
              
              const matchesDeficit = game.deficitBefore >= filters.minDeficit && 
                                    game.deficitBefore <= filters.maxDeficit;
              
              const matchesSpreadImpact = 
                filters.spreadImpact === 'all' ||
                (filters.spreadImpact === 'covered' && game.impactedSpread) ||
                (filters.spreadImpact === 'notCovered' && !game.impactedSpread);
              
              return matchesSearch && matchesTime && matchesDeficit && matchesSpreadImpact;
            });

            filtered.sort((a, b) => b.suspicionScore - a.suspicionScore);
            setFilteredGames(filtered);
          }, [games, filters]);

          const handleAddGame = () => {
            if (!newGame.date || !newGame.homeTeam || !newGame.awayTeam || 
                !newGame.spread || !newGame.timeLeft || !newGame.deficitBefore || 
                !newGame.pointsScored) {
              alert('Please fill in all required fields');
              return;
            }

            const game = {
              id: games.length + 1,
              date: newGame.date,
              homeTeam: newGame.homeTeam,
              awayTeam: newGame.awayTeam,
              finalScore: parseFloat(newGame.finalScore),
              finalOpponentScore: parseFloat(newGame.finalOpponentScore),
              spread: parseFloat(newGame.spread),
              timeLeft: parseFloat(newGame.timeLeft),
              deficitBefore: parseFloat(newGame.deficitBefore),
              pointsScored: parseFloat(newGame.pointsScored),
              deficitAfter: parseFloat(newGame.deficitAfter || (newGame.deficitBefore - newGame.pointsScored)),
              scoringTeam: newGame.scoringTeam,
              notes: newGame.notes
            };

            const gameWithAnalysis = {
              ...game,
              ...analyzeSpreadImpact(game)
            };

            setGames([...games, gameWithAnalysis]);
            setShowAddGame(false);
            setNewGame({
              date: '',
              homeTeam: '',
              awayTeam: '',
              finalScore: '',
              finalOpponentScore: '',
              spread: '',
              timeLeft: '',
              deficitBefore: '',
              pointsScored: '',
              deficitAfter: '',
              scoringTeam: 'home',
              notes: ''
            });
          };

          const getSuspicionLevel = (score) => {
            if (score >= 70) return { label: 'Very High', color: 'text-red-700', bg: 'bg-red-100', border: 'border-red-300' };
            if (score >= 50) return { label: 'High', color: 'text-orange-700', bg: 'bg-orange-100', border: 'border-orange-300' };
            if (score >= 30) return { label: 'Medium', color: 'text-yellow-700', bg: 'bg-yellow-100', border: 'border-yellow-300' };
            return { label: 'Low', color: 'text-blue-700', bg: 'bg-blue-100', border: 'border-blue-300' };
          };

          const timeVsDeficitData = filteredGames.map(game => ({
            time: game.timeLeft,
            deficit: game.deficitBefore,
            points: game.pointsScored,
            suspicion: game.suspicionScore,
            team: `${game.homeTeam} vs ${game.awayTeam}`
          }));

          const spreadImpactData = [
            { name: 'Covered Spread', value: games.filter(g => g.impactedSpread).length, color: '#dc2626' },
            { name: 'No Impact', value: games.filter(g => !g.impactedSpread).length, color: '#16a34a' }
          ];

          return (
            <div className="min-h-screen bg-gradient-to-br from-red-50 via-slate-50 to-orange-50 p-4">
              <div className="max-w-7xl mx-auto">
                <div className="bg-white rounded-lg shadow-xl p-6 mb-6 border-t-4 border-red-600">
                  <div className="flex items-center justify-between mb-4">
                    <div className="flex items-center gap-3">
                      <div className="bg-red-600 p-3 rounded-lg">
                        <Clock size={28} className="text-white" />
                      </div>
                      <div>
                        <h1 className="text-3xl font-bold text-slate-800">Garbage Time Scoring Tracker</h1>
                        <p className="text-slate-600">Analyzing late-game scoring when the outcome is decided</p>
                      </div>
                    </div>
                    <button
                      onClick={() => setShowAddGame(!showAddGame)}
                      className="bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700 transition flex items-center gap-2"
                    >
                      <Plus size={20} />
                      Add Game
                    </button>
                  </div>

                  <div className="bg-red-50 border border-red-200 rounded-lg p-4 flex items-start gap-3">
                    <AlertTriangle className="text-red-600 flex-shrink-0" size={24} />
                    <div>
                      <h3 className="font-semibold text-red-800 mb-1">Focus Area: Meaningless Late Scoring</h3>
                      <p className="text-sm text-red-700">
                        This tracker specifically monitors situations where teams score in the final seconds while down by 10+ points - 
                        scenarios where the game is already decided but the scoring affects betting spreads.
                      </p>
                    </div>
                  </div>

                  <div className="grid grid-cols-1 md:grid-cols-4 gap-4 mt-6">
                    <div className="bg-gradient-to-br from-red-50 to-red-100 p-4 rounded-lg border border-red-200">
                      <div className="text-red-600 text-sm font-medium">Total Tracked</div>
                      <div className="text-2xl font-bold text-red-800">{games.length}</div>
                      <div className="text-xs text-red-600 mt-1">Garbage time scores</div>
                    </div>
                    <div className="bg-gradient-to-br from-orange-50 to-orange-100 p-4 rounded-lg border border-orange-200">
                      <div className="text-orange-600 text-sm font-medium">Spread Impact</div>
                      <div className="text-2xl font-bold text-orange-800">
                        {games.filter(g => g.impactedSpread).length}
                      </div>
                      <div className="text-xs text-orange-600 mt-1">Changed spread outcome</div>
                    </div>
                    <div className="bg-gradient-to-br from-yellow-50 to-yellow-100 p-4 rounded-lg border border-yellow-200">
                      <div className="text-yellow-700 text-sm font-medium">Avg Time Left</div>
                      <div className="text-2xl font-bold text-yellow-800">
                        {games.length > 0 ? (games.reduce((sum, g) => sum + g.timeLeft, 0) / games.length).toFixed(1) : 0}s
                      </div>
                      <div className="text-xs text-yellow-700 mt-1">When scoring occurred</div>
                    </div>
                    <div className="bg-gradient-to-br from-purple-50 to-purple-100 p-4 rounded-lg border border-purple-200">
                      <div className="text-purple-600 text-sm font-medium">Avg Deficit</div>
                      <div className="text-2xl font-bold text-purple-800">
                        {games.length > 0 ? (games.reduce((sum, g) => sum + g.deficitBefore, 0) / games.length).toFixed(1) : 0}
                      </div>
                      <div className="text-xs text-purple-600 mt-1">Points down before score</div>
                    </div>
                  </div>
                </div>

                {showAddGame && (
                  <div className="bg-white rounded-lg shadow-lg p-6 mb-6">
                    <h2 className="text-xl font-bold text-slate-800 mb-4">Record Garbage Time Scoring</h2>
                    <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
                      <input
                        type="date"
                        value={newGame.date}
                        onChange={(e) => setNewGame({...newGame, date: e.target.value})}
                        className="border border-slate-300 rounded-lg px-4 py-2"
                      />
                      <input
                        type="text"
                        value={newGame.homeTeam}
                        onChange={(e) => setNewGame({...newGame, homeTeam: e.target.value})}
                        className="border border-slate-300 rounded-lg px-4 py-2"
                        placeholder="Home Team"
                      />
                      <input
                        type="text"
                        value={newGame.awayTeam}
                        onChange={(e) => setNewGame({...newGame, awayTeam: e.target.value})}
                        className="border border-slate-300 rounded-lg px-4 py-2"
                        placeholder="Away Team"
                      />
                      <input
                        type="number"
                        value={newGame.finalScore}
                        onChange={(e) => setNewGame({...newGame, finalScore: e.target.value})}
                        className="border border-slate-300 rounded-lg px-4 py-2"
                        placeholder="Final Score (Scoring Team)"
                      />
                      <input
                        type="number"
                        value={newGame.finalOpponentScore}
                        onChange={(e) => setNewGame({...newGame, finalOpponentScore: e.target.value})}
                        className="border border-slate-300 rounded-lg px-4 py-2"
                        placeholder="Final Score (Opponent)"
                      />
                      <input
                        type="number"
                        step="0.5"
                        value={newGame.spread}
                        onChange={(e) => setNewGame({...newGame, spread: e.target.value})}
                        className="border border-slate-300 rounded-lg px-4 py-2"
                        placeholder="Spread (+ if underdog)"
                      />
                      <input
                        type="number"
                        value={newGame.timeLeft}
                        onChange={(e) => setNewGame({...newGame, timeLeft: e.target.value})}
                        className="border border-slate-300 rounded-lg px-4 py-2"
                        placeholder="Time Left (seconds)"
                      />
                      <input
                        type="number"
                        value={newGame.deficitBefore}
                        onChange={(e) => setNewGame({...newGame, deficitBefore: e.target.value})}
                        className="border border-slate-300 rounded-lg px-4 py-2"
                        placeholder="Points Down (before)"
                      />
                      <input
                        type="number"
                        value={newGame.pointsScored}
                        onChange={(e) => setNewGame({...newGame, pointsScored: e.target.value})}
                        className="border border-slate-300 rounded-lg px-4 py-2"
                        placeholder="Points Scored Late"
                      />
                      <input
                        type="number"
                        value={newGame.deficitAfter}
                        onChange={(e) => setNewGame({...newGame, deficitAfter: e.target.value})}
                        className="border border-slate-300 rounded-lg px-4 py-2"
                        placeholder="Points Down (after) - optional"
                      />
                      <select
                        value={newGame.scoringTeam}
                        onChange={(e) => setNewGame({...newGame, scoringTeam: e.target.value})}
                        className="border border-slate-300 rounded-lg px-4 py-2"
                      >
                        <option value="home">Home Team Scored</option>
                        <option value="away">Away Team Scored</option>
                      </select>
                      <input
                        type="text"
                        value={newGame.notes}
                        onChange={(e) => setNewGame({...newGame, notes: e.target.value})}
                        className="border border-slate-300 rounded-lg px-4 py-2 md:col-span-2"
                        placeholder="Notes (optional)"
                      />
                    </div>
                    <div className="flex gap-2 mt-4">
                      <button
                        onClick={handleAddGame}
                        className="bg-red-600 text-white px-6 py-2 rounded-lg hover:bg-red-700 transition"
                      >
                        Add Record
                      </button>
                      <button
                        onClick={() => setShowAddGame(false)}
                        className="bg-slate-300 text-slate-700 px-6 py-2 rounded-lg hover:bg-slate-400 transition"
                      >
                        Cancel
                      </button>
                    </div>
                  </div>
                )}

                <div className="bg-white rounded-lg shadow-lg p-6 mb-6">
                  <div className="flex items-center gap-2 mb-4">
                    <Filter size={20} className="text-slate-600" />
                    <h3 className="font-semibold text-slate-800">Filters</h3>
                  </div>
                  <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4">
                    <div>
                      <label className="block text-sm font-medium text-slate-700 mb-2">Search Teams</label>
                      <input
                        type="text"
                        value={filters.searchTerm}
                        onChange={(e) => setFilters({...filters, searchTerm: e.target.value})}
                        className="w-full px-4 py-2 border border-slate-300 rounded-lg"
                        placeholder="Team name..."
                      />
                    </div>
                    <div>
                      <label className="block text-sm font-medium text-slate-700 mb-2">
                        Time Left: {filters.minTimeLeft}s - {filters.maxTimeLeft}s
                      </label>
                      <input
                        type="range"
                        min="0"
                        max="60"
                        value={filters.maxTimeLeft}
                        onChange={(e) => setFilters({...filters, maxTimeLeft: parseInt(e.target.value)})}
                        className="w-full"
                      />
                    </div>
                    <div>
                      <label className="block text-sm font-medium text-slate-700 mb-2">
                        Min Deficit: {filters.minDeficit} pts
                      </label>
                      <input
                        type="range"
                        min="5"
                        max="20"
                        value={filters.minDeficit}
                        onChange={(e) => setFilters({...filters, minDeficit: parseInt(e.target.value)})}
                        className="w-full"
                      />
                    </div>
                    <div>
                      <label className="block text-sm font-medium text-slate-700 mb-2">Spread Impact</label>
                      <select
                        value={filters.spreadImpact}
                        onChange={(e) => setFilters({...filters, spreadImpact: e.target.value})}
                        className="w-full px-4 py-2 border border-slate-300 rounded-lg"
                      >
                        <option value="all">All Games</option>
                        <option value="covered">Changed to Cover</option>
                        <option value="notCovered">No Impact</option>
                      </select>
                    </div>
                  </div>
                </div>

                <div className="bg-white rounded-lg shadow-lg p-6">
                  <h2 className="text-xl font-bold text-slate-800 mb-4">
                    Tracked Instances ({filteredGames.length})
                  </h2>

                  <div className="space-y-4">
                    {filteredGames.map(game => {
                      const suspicion = getSuspicionLevel(game.suspicionScore);
                      const scoringTeamName = game.scoringTeam === 'home' ? game.homeTeam : game.awayTeam;
                      
                      return (
                        <div key={game.id} className={`border-l-4 ${suspicion.border} ${suspicion.bg} p-5 rounded-r-lg`}>
                          <div className="flex justify-between items-start mb-3">
                            <div className="flex-1">
                              <div className="flex items-center gap-3 mb-2 flex-wrap">
                                <span className="text-lg font-bold text-slate-800">
                                  {game.homeTeam} vs {game.awayTeam}
                                </span>
                                <span className={`px-3 py-1 rounded-full text-xs font-bold ${suspicion.color} border ${suspicion.border}`}>
                                  {suspicion.label} Suspicion
                                </span>
                                {game.impactedSpread && (
                                  <span className="px-3 py-1 rounded-full text-xs font-bold text-white bg-red-600">
                                    SPREAD IMPACTED
                                  </span>
                                )}
                              </div>
                              <div className="text-sm text-slate-600">
                                {new Date(game.date).toLocaleDateString('en-US', { month: 'long', day: 'numeric', year: 'numeric' })}
                              </div>
                            </div>
                            <div className="text-right">
                              <div className="text-3xl font-bold text-red-600">
                                {game.suspicionScore}
                              </div>
                              <div className="text-xs text-slate-600">Suspicion Score</div>
                            </div>
                          </div>

                          <div className="grid grid-cols-2 md:grid-cols-5 gap-4 mb-3 pb-3 border-b border-slate-200">
                            <div>
                              <div className="text-xs text-slate-600 mb-1">Time Remaining</div>
                              <div className="font-bold text-slate-800 text-lg">{game.timeLeft}s</div>
                            </div>
                            <div>
                              <div className="text-xs text-slate-600 mb-1">Deficit Before</div>
                              <div className="font-bold text-slate-800 text-lg">-{game.deficitBefore}</div>
                            </div>
                            <div>
                              <div className="text-xs text-slate-600 mb-1">Points Scored</div>
                              <div className="font-bold text-green-600 text-lg">+{game.pointsScored}</div>
                            </div>
                            <div>
                              <div className="text-xs text-slate-600 mb-1">Final Deficit</div>
                              <div className="font-bold text-slate-800 text-lg">-{game.deficitAfter}</div>
                            </div>
                            <div>
                              <div className="text-xs text-slate-600 mb-1">Spread</div>
                              <div className="font-bold text-blue-600 text-lg">
                                {game.spread > 0 ? '+' : ''}{game.spread}
                              </div>
                            </div>
                          </div>

                          <div className="bg-white bg-opacity-60 rounded-lg p-4 mb-3">
                            <div className="font-semibold text-slate-800 mb-2">Spread Analysis:</div>
                            <div className="grid grid-cols-1 md:grid-cols-2 gap-3 text-sm">
                              <div>
                                <span className="text-slate-600">Margin before late score:</span>
                                <span className="ml-2 font-semibold text-slate-800">{game.marginBefore}</span>
                              </div>
                              <div>
                                <span className="text-slate-600">Final margin:</span>
                                <span className="ml-2 font-semibold text-slate-800">{game.marginAfter}</span>
                              </div>
                              <div>
                                <span className="text-slate-600">Would have covered?</span>
                                <span className={`ml-2 font-semibold ${game.wouldHaveCovered ? 'text-green-600' : 'text-red-600'}`}>
                                  {game.wouldHaveCovered ? 'YES' : 'NO (would miss by ' + game.wouldHaveMissedBy.toFixed(1) + ')'}
                                </span>
                              </div>
                              <div>
                                <span className="text-slate-600">Actually covered?</span>
                                <span className={`ml-2 font-semibold ${game.coveredSpread ? 'text-green-600' : 'text-red-600'}`}>
                                  {game.coveredSpread ? 'YES' : 'NO'}
                                </span>
                              </div>
                            </div>
                            
                            {game.impactedSpread && (
                              <div className="mt-3 pt-3 border-t border-red-200">
                                <div className="flex items-center gap-2 text-red-700 font-semibold">
                                  <AlertTriangle size={18} />
                                  <span>
                                    Late scoring changed the spread outcome! 
                                    {scoringTeamName} covered by {game.spreadDifference.toFixed(1)} points because of garbage time scoring.
                                  </span>
                                </div>
                              </div>
                            )}
                          </div>

                          {game.notes && (
                            <div className="bg-slate-50 rounded p-3 text-sm text-slate-700">
                              <span className="font-semibold">Notes:</span> {game.notes}
                            </div>
                          )}
                        </div>
                      );
                    })}
                  </div>

                  {filteredGames.length === 0 && (
                    <div className="text-center py-12 text-slate-500">
                      <TrendingDown size={48} className="mx-auto mb-4 opacity-50" />
                      <p>No games match your filter criteria</p>
                    </div>
                  )}
                </div>

                <div className="bg-white rounded-lg shadow-lg p-6 mt-6">
                  <h2 className="text-xl font-bold text-slate-800 mb-4">Why This Matters</h2>
                  <div className="space-y-3 text-sm text-slate-700">
                    <p>
                      <strong className="text-red-600">The Pattern:</strong> When a team is down by 10+ points with less than 30 seconds remaining, 
                      the game outcome is essentially decided. Yet players often continue to aggressively score rather than letting the clock run out.
                    </p>
                    <p>
                      <strong className="text-red-600">Spread Impact:</strong> These "meaningless" points frequently determine whether the underdog 
                      covers the spread. A team losing by 12 scoring 5 garbage time points to lose by 7 changes a bet result when the spread was +8.5.
                    </p>
                    <p>
                      <strong className="text-red-600">Statistical Anomaly:</strong> The frequency with which these late scores specifically cover spreads 
                      (rather than being randomly distributed) raises legitimate questions about player awareness and incentives.
                    </p>
                  </div>
                </div>
              </div>
            </div>
          );
        }

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<GarbageTimeScoringTracker />);
    </script>
</body>
</html>
